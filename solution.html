<!DOCTYPE html>
<html lang="en">
  
<head>
  <meta charset="UTF-8">
  <title>Favorite Animal</title>
</head>

<body>
  <h1>Select your favorite animal</h1>
  <h2>and write why it is your favorite</h2>
  
  <form>
    <ul>
      <li>
        <input type="radio" name="animal" value="bird">Bird<br>
      </li>
      <li>
        <input type="radio" name="animal" value="cat">Cat<br>
      </li>
      <li>
        <input type="radio" name="animal" value="dog">Dog<br>
      </li>
      <li>
        <input type="radio" name="animal" value="other">Other (explain below)<br>
      </li>
    </ul>
    Explain: <input type="text" name="explain" id="reasoning"><br>
    <input type="submit" value="Submit" id="submit">
    <input type="reset" value="Clear" id="clear">
  </form>
  
  <ul id="fave-list"></ul>
  
  <script>
    function main() {
      const addButton = document.getElementById('submit');
      addButton.addEventListener('click', add);
    }
    function getFormInfo() {
      const faveAnimal = document.querySelector('input[name="animal"]:checked').value;
      const reason = document.getElementById("reasoning").value;
      document.getElementById("reasoning").value = "";
      return [faveAnimal, reason];
    }
    function add(e) {
      e.preventDefault();
      [faveAnimal, reason] = getFormInfo();
      const output = document.getElementById("fave-list");
      const newLi = document.createElement('li');
      const closeIcon = document.createElement('span');
      
      newLi.appendChild(document.createTextNode(faveAnimal+" "+reason+"\n"));
      closeIcon.appendChild(document.createTextNode("\u274e"));
      newLi.appendChild(closeIcon);
      output.appendChild(newLi);
      
      closeIcon.addEventListener(
        'click',
        ()=>{
          while(newLi.firstChild)
            newLi.removeChild(newLi.firstChild);
          output.removeChild(newLi);
        }
      );
    }
    
    window.onload = main;
  </script>
  
</body>

</html>
